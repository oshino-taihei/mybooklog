%h1 本の検索

= form_for(@book_search_form, url: books_path, method: :get) do |f|
  .search_form
    .field.search-field
      = f.search_field :keyword, placeholder: 'アイテムを検索'
    .actions.search-button
      = f.submit '検索'
%p.search-note
  まずは商品名、著者名、出版社名などを入力して検索してください。

%br

- if @books.present?
  %table
    %thead
      %tr
        %th 本棚
        %th 画像
        %th タイトル
        %th 著者
        %th ASIN
        %th 出版社
        %th 出版日
        %th 価格

    %tbody
      - @books.each do |book|
        %tr
          %td
            .actions
              - if current_user.books.exists?(book)
                .shown{id: "#{update_button_id(book)}"}= update_review_button_to(book)
                .hidden{id: "#{create_button_id(book)}"}= create_review_button_to(book)
              - else
                .hidden{id: "#{update_button_id(book)}"}= update_review_button_to(book)
                .shown{id: "#{create_button_id(book)}"}= create_review_button_to(book)
          %td= link_to image_tag(book.small_image), book.url
          %td= link_to book.title, book.url
          %td= book.author
          %td= book.asin
          %td= book.publisher
          %td= book.published_at
          %td= book.price

  = paginate @books, window: 10
